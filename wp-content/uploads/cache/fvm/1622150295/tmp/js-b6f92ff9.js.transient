{"request":{"hurl":"http:\/\/tomsirmusic.ddns.net\/wp-content\/plugins\/wp-modal-popup-with-cookie-integration\/assets\/js\/wmpci-popup.js","inline":"","disable_minification":false,"type":"js","handle":"wmpci-popup-js"},"log":"\/wp-content\/plugins\/wp-modal-popup-with-cookie-integration\/assets\/js\/wmpci-popup.js\n","code":"\/*!\n * WmpciPop 1.0.0\n * http:\/\/wponlinesupport.com\n *\n * Copyright (c) 2016 WP Online Support\n *\/\n(function(WmpciPop,undefined){'use strict';var settings={coverId:'wmpci-popup-cover',expires:1,closeClassNoDefault:'wmpci-popup-close',closeClassDefault:'wmpci-close-go',cookieName:'_Wmpci_Popup',onPopUpOpen:null,onPopUpClose:null,forceHash:'splash',delayHash:'go',closeOnEscape:!0,delay:10000,hideAfter:null},$el={html:document.getElementsByTagName('html')[0],cover:document.getElementById(settings.coverId),closeClassDefaultEls:document.querySelectorAll('.'+settings.closeClassDefault),closeClassNoDefaultEls:document.querySelectorAll('.'+settings.closeClassNoDefault)},util={hasClass:function(el,name){return new RegExp('(\\\\s|^)'+name+'(\\\\s|$)').test(el.className)},addClass:function(el,name){if(!util.hasClass(el,name)){el.className+=(el.className?' ':'')+name}},removeClass:function(el,name){if(util.hasClass(el,name)){el.className=el.className.replace(new RegExp('(\\\\s|^)'+name+'(\\\\s|$)'),' ').replace(\/^\\s+|\\s+$\/g,'')}},addListener:function(target,type,handler){if(target.addEventListener){target.addEventListener(type,handler,!1)}else if(target.attachEvent){target.attachEvent('on'+type,handler)}},removeListener:function(target,type,handler){if(target.removeEventListener){target.removeEventListener(type,handler,!1)}else if(target.detachEvent){target.detachEvent('on'+type,handler)}},isFunction:function(functionToCheck){var getType={};return functionToCheck&&getType.toString.call(functionToCheck)==='[object Function]'},setCookie:function(name,days){var date=new Date();date.setTime(+date+(days*86400000));document.cookie=name+'=true; expires='+date.toGMTString()+'; path=\/'},hasCookie:function(name){if(document.cookie.indexOf(name)!==-1){return!0}\nreturn!1},hashExists:function(hash){if(window.location.hash.indexOf(hash)!==-1){return!0}\nreturn!1},preventDefault:function(event){if(event.preventDefault){event.preventDefault()}else{event.returnValue=!1}},mergeObj:function(obj1,obj2){for(var attr in obj2){obj1[attr]=obj2[attr]}}},onDocUp=function(e){if(settings.closeOnEscape){if(e.keyCode===27){WmpciPop.close()}}},openCallback=function(){if(settings.onPopUpOpen!==null){if(util.isFunction(settings.onPopUpOpen)){settings.onPopUpOpen.call()}else{throw new TypeError('WmpciPop open callback must be a function.')}}},closeCallback=function(){if(settings.onPopUpClose!==null){if(util.isFunction(settings.onPopUpClose)){settings.onPopUpClose.call()}else{throw new TypeError('WmpciPop close callback must be a function.')}}};WmpciPop.open=function(){var i,len;if(util.hashExists(settings.delayHash)){util.setCookie(settings.cookieName,1);return}\nutil.addClass($el.html,'wmpci-popup-open');if($el.closeClassNoDefaultEls.length>0){for(i=0,len=$el.closeClassNoDefaultEls.length;i<len;i++){util.addListener($el.closeClassNoDefaultEls[i],'click',function(e){if(e.target===this){util.preventDefault(e);WmpciPop.close()}})}}\nif($el.closeClassDefaultEls.length>0){for(i=0,len=$el.closeClassDefaultEls.length;i<len;i++){util.addListener($el.closeClassDefaultEls[i],'click',function(e){if(e.target===this){WmpciPop.close()}})}}\nutil.addListener(document,'keyup',onDocUp);openCallback()};WmpciPop.close=function(e){util.removeClass($el.html,'wmpci-popup-open');util.setCookie(settings.cookieName,settings.expires);util.removeListener(document,'keyup',onDocUp);closeCallback()};WmpciPop.init=function(options){if(navigator.cookieEnabled){util.mergeObj(settings,options);if(!util.hasCookie(settings.cookieName)||util.hashExists(settings.forceHash)){if(settings.delay===0){WmpciPop.open()}else{setTimeout(WmpciPop.open,settings.delay)}\nif(settings.hideAfter){setTimeout(WmpciPop.close,settings.hideAfter+settings.delay)}}}};WmpciPop.start=function(options){WmpciPop.init(options)}}(window.WmpciPop=window.WmpciPop||{}));jQuery(document).ready(function(){var popup_sett={'coverId':'wmpci-popup-wrp','delay':(parseInt(Wmpci_Popup.delay)*1000),'closeOnEscape':Wmpci_Popup.close_on_esc,'expires':parseInt(Wmpci_Popup.exp_time),'hideAfter':(parseInt(Wmpci_Popup.hide_time)*1000)};if(Wmpci_Popup.enable==1){WmpciPop.start(popup_sett)}});\n","status":true}